<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Elasticsearch | @vishnuatrai]]></title>
  <link href="http://vishnuatrai.in/blog/categories/elasticsearch/atom.xml" rel="self"/>
  <link href="http://vishnuatrai.in/"/>
  <updated>2020-04-18T17:30:14+05:30</updated>
  <id>http://vishnuatrai.in/</id>
  <author>
    <name><![CDATA[vishnuatrai.in]]></name>
    <email><![CDATA[vishnu.atrai@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Elasticsearch - Mapper_parsing_exception, Failed to Parse Field]]></title>
    <link href="http://vishnuatrai.in/blog/2017/12/20/elasticsearch-mapper-parsing-exception/"/>
    <updated>2017-12-20T15:37:59+05:30</updated>
    <id>http://vishnuatrai.in/blog/2017/12/20/elasticsearch-mapper-parsing-exception</id>
    <content type="html"><![CDATA[<p>We have recently faced issue with Elasticsearch field types and mapping, when if a field is mapped with a type other type can not be indexed for the same field. Elasticsearch indesing mechanism ristrict that. for example we have created a index named <code>users</code> and inserted a record with <code>text</code> type field <code>name</code>. <!--more--></p>

<p><img src="/images//posts/elasticsearch1.png" alt="" /></p>

<p>Second record we want to insert same field with another type per say <code>object</code>, it will raise exceptation <code>mapper_parsing_exception, failed to parse field</code>.</p>

<p><img src="/images//posts/Elasticsearch2.png" alt="" /></p>

<p>Because with insertation of first record the index will create a mapping and provide the field type <code>text</code> with second record insertation where the type is an object it will not match with the mapping and raise exceptation.</p>

<p><img src="/images//posts/elasticsearch3.png" alt="" /></p>

<h3>Simple Hack But Many pitfalls</h3>

<p>Since by nature Elasticsearch doesn&rsquo;t support above scenario, once the mapping is created and type is assigned to a field it will not allow indexing of other type. However in my case we have to store the data in elasticsearch engine, so converted the object to string and that worked. But it will not support query on the converted object and on client side also we will need to convert back to object type.</p>

<p><img src="/images//posts/elasticsearch4.png" alt="" /></p>

<p>After converting the object to text it will indexed as a text field only and will look like a escaped string object.</p>

<p><img src="/images//posts/elasticsearch5.png" alt="" /></p>

<p>Still investigating on better solution or way to work on this issue.</p>
]]></content>
  </entry>
  
</feed>
